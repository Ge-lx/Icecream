{"version":3,"sources":["routes/home.js"],"names":["router","get","req","res","next","user","randomBytes","toString","toUpperCase","data","random","token","getClientToken","vueOptions","head","title","scripts","src","renderVue"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;kBAEe,UAACA,MAAD,EAAY;AACzBA,SAAOC,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClC,QAAIC,OAAO,iBAAOC,WAAP,CAAmB,CAAnB,EAAsBC,QAAtB,CAA+B,KAA/B,EAAsCC,WAAtC,EAAX;AACA,QAAMC,OAAO;AACXC,cAAQL,IADG;AAEXM,aAAO,oBAAUC,cAAV,CAAyBP,IAAzB;AAFI,KAAb;;AAKAH,QAAIW,UAAJ,GAAiB;AACfC,YAAM;AACJC,eAAO,YADH;AAEJC,iBAAS,CAAC,EAACC,KAAK,qBAAN,EAAD;AAFL;AADS,KAAjB;;AAOAd,QAAIe,SAAJ,CAAc,UAAd,EAA0BT,IAA1B,EAAgCP,IAAIW,UAApC;AACD,GAfD;AAgBD,C","file":"home.js","sourcesContent":["import websocket from '../net/websocket'\r\nimport crypto from 'crypto'\r\n\r\nexport default (router) => {\r\n  router.get('/', (req, res, next) => {\r\n    var user = crypto.randomBytes(8).toString('hex').toUpperCase()\r\n    const data = {\r\n      random: user,\r\n      token: websocket.getClientToken(user)\r\n    }\r\n\r\n    req.vueOptions = {\r\n      head: {\r\n        title: 'Page Title',\r\n        scripts: [{src: 'static/ws-client.js'}]\r\n      }\r\n    }\r\n\r\n    res.renderVue('home.vue', data, req.vueOptions)\r\n  })\r\n}\r\n"]}